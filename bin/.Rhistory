}
data3
View(data3)
data=read.csv("C:/Users/tangu/Downloads/total-Eryngium.csv")
data2=duplicated(data$id_area)
data3=c()
for (i in 1:length(data2)){
if (data2[i]){
data3= rbind(data3,data[i,])
}
}
data2=c()
for (i in 1:length(data)){
for (j in 1:length(data)){
if (data$Annee[i}==2011 & data$Annee[j}==2017){
}
}
for (i in 1:length(data)){
for (j in 1:length(data)){
if (data$Annee[i]==2011 & data$Annee[j]==2017){
if (data$id_area[i]==data$id_area[j]){
data2=rbind(data2,data[i])
data2=rbind(data2,data[j])
}
}
}
}
print('o')
for (i in 1:length(data)){
for (j in 1:length(data)){
if (data$Annee[i]==2011 & data$Annee[j]==2017){
print('o')
if (data$id_area[i]==data$id_area[j]){
data2=rbind(data2,data[i])
data2=rbind(data2,data[j])
}
}
}
}
for (i in 1:length(data)){
for (j in 1:length(data)){
if (data$Annee[i]=='2011' & data$Annee[j]=='2017'){
print('o')
if (data$id_area[i]==data$id_area[j]){
data2=rbind(data2,data[i])
data2=rbind(data2,data[j])
}
}
}
}
data=read.csv("C:/Users/tangu/Downloads/total-Eryngium.csv")
data2=c()
for (i in 1:length(data)){
for (j in 1:length(data)){
if (data$Annee[i]=='2011' & data$Annee[j]=='2017'){
print('o')
if (data$id_area[i]==data$id_area[j]){
data2=rbind(data2,data[i])
data2=rbind(data2,data[j])
}
}
}
}
data$Annee[1]
class(data$Annee[1])
for (i in 1:length(data)){
for (j in 1:length(data)){
print("o")
if (data$Annee[i]==2011 & data$Annee[j]==2017){
print('o')
if (data$id_area[i]==data$id_area[j]){
data2=rbind(data2,data[i])
data2=rbind(data2,data[j])
}
}
}
}
}
for (i in 1:length(data)){
for (j in i:length(data)){
if (data$id_area[i]==data$id_area[j]){
data2=rbind(data2,data[i])
data2=rbind(data2,data[j])
}
}
}
View(data2)
for (i in 1:length(data)){
for (j in i:length(data)){
if (data$id_area[i]==data$id_area[j]){
data2=rbind(data2,data[i,])
data2=rbind(data2,data[j,])
}
}
}
data[1,]
a=data[1,]
View(a)
for (i in 1:length(data)){
for (j in i:length(data)){
if (data$id_area[i]==data$id_area[j]){
print('o')
data2=rbind(data2,data[i,])
data2=rbind(data2,data[j,])
}
}
}
data2=rep(0,times=16)
for (i in 1:length(data)){
for (j in i:length(data)){
if (data$id_area[i]==data$id_area[j]){
print('o')
data2=rbind(data2,data[i,])
data2=rbind(data2,data[j,])
}
}
}
for (i in 1:length(data)){
for (j in i+1:length(data)){
if (data$id_area[i]==data$id_area[j]){
print('o')
data2=rbind(data2,data[i,])
data2=rbind(data2,data[j,])
}
}
}
data2=rep(0,times=16)
for (i in 1:length(data)){
for (j in i+1:length(data)){
if (data$id_area[i]==data$id_area[j]){
print('o')
data2=rbind(data2,data[i,])
data2=rbind(data2,data[j,])
}
}
}
data$id_area[duplicated(data$id_area)]
data2=filter(data,data$id_area %in% data$id_area[duplicated(data$id_area)])
a=data$id_area[duplicated(data$id_area)]
data2=filter(data,data$id_area %in% a)
library(dplyr)
data2=filter(data,id_area %in% a)
View(data2)
data2=filter(data,id_area %in% data$id_area[duplicated(data$id_area)])
View(data2)
unique(data2)
a=unique(data2)
a=unique(data2$id_area)
a
a=data$id_area[duplicated(data$id_area)]
a=data[duplicated(data$id_area)]
a=data$id_area[duplicated(data$id_area)]
2898*2
<?xml version="1.0" encoding="UTF-8"?>
library(stringr)
str_trim("   gh","left")
str_trim("   gh","right")
suite<-"Suite.xml"
runSuite(suite,"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests",metadataFile)
metadataFile <-"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests/Reef_Life_Survey_Fish_Mediterranean_sample.xml"
suite<-"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests/Suite.xml"
runSuite(suite,"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests",metadataFile)
View(runSuite)
metadataXML <- system.file("extdata/example_EML.xml", package = "metadig")
suiteXML <- system.file("extdata/example_suite.xml", package = "metadig")
dirXML <- systemfile("extdata", package = "metadig")
metadataXML <- system.file("extdata/example_EML.xml", package = "metadig")
suiteXML <- system.file("extdata/example_suite.xml", package = "metadig")
dirXML <- system.file("extdata", package = "metadig")
results <- runSuite(suiteXML, dirXML, metadataXML)
results
runSuite(suite,"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests",metadataFile)
suite<-"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests/Suite.xml"
runSuite(suiteXML,"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests",metadataFile)
runSuite(suite,"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests",metadataFile)
suite<-"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests/Suite.xml"
runSuite(suite,"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests",metadataFile)
metadataXML <- system.file("extdata/example_EML.xml", package = "metadig")
suiteXML <- system.file("extdata/example_suite.xml", package = "metadig")
dirXML <- system.file("extdata", package = "metadig")
results <- runSuite(suiteXML, dirXML, metadataXML)
results <- runSuite(suite, dirXML, metadataXML)
results
results <- runSuite(suiteXML, dirXML, metadataXML)
results
results <- runSuite(suiteXML, dir, metadataXML)
dir<-"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests"
results <- runSuite(suiteXML, dir, metadataXML)
runSuite(suite,dir,metadataFile)
runSuite(suite,dir,metadataFile)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
print('o')
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
suitex(suite,dir,metadataFile)
Suitex(suite,dir,metadataFile)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
print('o')
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex(suite,dir,metadataFile)
library(xml2)
Suitex(suite,dir,metadataFile)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
print('o')
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex(suite,dir,metadataFile)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
print('o')
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex(suite,dir,metadataFile)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
print('o')
results
}
Suitex(suite,dir,metadataFile)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
print('o')
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
print('o')
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex(suite,dir,metadataFile)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
print('o')
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex(suite,dir,metadataFile)
print(checks)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
print(checks)
all <- lapply(checks, read_xml)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex(suite,dir,metadataFile)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
all <- lapply(checks, read_xml)
print(all)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex(suite,dir,metadataFile)
dir<-"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests/checks"
Suitex(suite,dir,metadataFile)
dir<-"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests/checks"
Suitex(suite,dir,metadataFile)
Suitex(suite,dir,metadataFile)
metadataFile2 <- "Assessing_the_importance_of_field_margins_for_bat_species_and_communities_in_intensive_agricultural_landscapes_-_Data.xml"
suite<-"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests/Suite.xml"
dir<-"C:/Users/tangu/Desktop/Stage_meta/Curation/Curation/tests/checks"
Suitex(suite,dir,metadataFile)
Suitex(suite,dir,metadataFile)
Suitex<-function (suiteXML, dirXML, metadataXML)
{
stopifnot(is.character(suiteXML), length(suiteXML) == 1,
nchar(suiteXML) > 0)
stopifnot(is.character(dirXML), length(dirXML) == 1, nchar(dirXML) >
0)
stopifnot(is.character(metadataXML), length(metadataXML) ==
1, nchar(metadataXML) > 0)
suite <- read_xml(suiteXML)
ids <- xml_find_all(suite, "check")
ids <- xml_text(ids)
checks <- list.files(dirXML, full.names = TRUE)
print(checks)
all <- lapply(checks, read_xml)
print(all)
names(all) <- checks
all <- lapply(all, xml_find_all, "id")
all <- lapply(all, xml_text)
run <- all[which(all %in% ids)]
suite <- names(run)
results <- lapply(suite, runCheck, metadataXML)
names(results) <- basename(suite)
results
}
Suitex(suite,dir,metadataFile)
